query getUserArticles($userId: ID!) {
  user(user: $userId) {
    _id
    displayName

    permissions {
      user {
        _id
        displayName
      }
    }
  }

  tags(user: $userId) {
    _id
    owner
    description
    color
    name
  }

  articles(user: $userId) {
    _id
    title
    updatedAt

    workingVersion {
      bibPreview
    }

    owner {
      _id
      displayName
    }

    contributors {
      user {
        _id
        displayName
      }
    }

    tags {
      name
      owner
      color
      _id
    }
  }

  userGrantedAccess {
    _id
    displayName
  }
}

query getWorkspaceArticles ($userId: ID!, $workspaceId: ID!) {
  tags(user: $userId) {
    _id
    owner
    description
    color
    name
  }

  workspace(workspaceId: $workspaceId) {
    articles {
      _id
      title
      updatedAt

      workingVersion {
        bibPreview
      }

      owner {
        _id
        displayName
      }

      contributors {
        user {
          _id
          displayName
        }
      }

      tags {
        name
        owner
        color
        _id
      }
    }
  }
}

query deleteArticle ($user: ID!, $article: ID!) {
  user (user: $user) {
    article (id: $article) {
      delete (dryRun: false)
    }
  }
}

mutation createArticle ($title: String!, $user: ID!, $tags: [ID]!) {
  createArticle(title: $title, user:$user) {
    _id
    title

    addTags (tags: $tags) {
      _id
      name
      color
    }
  }
}

query addTags ($article: ID!, $user: ID!, $tags: [ID]!) {
  user (user: $user) {
    article (id: $article) {
      addTags (tags: $tags) {
        _id
        name
        color
      }
    }
  }
}

query removeTags ($article: ID!, $user: ID!, $tags: [ID]!) {
  user (user: $user) {
    article (id: $article) {
      removeTags (tags: $tags) {
        _id
        name
        color
      }
    }
  }
}
